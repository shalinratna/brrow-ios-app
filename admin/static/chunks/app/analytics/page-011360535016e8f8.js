(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[745],{534:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(1847).A)("chart-column",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]])},1169:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(1847).A)("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]])},1524:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(1847).A)("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]])},1761:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(1847).A)("dollar-sign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]])},2107:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>v});var a=t(5155),r=t(2115),i=t(1733),l=t(9559),n=t(1847);let c=(0,n.A)("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]]);var d=t(1524);let o=(0,n.A)("trending-down",[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]]);var x=t(1169),m=t(6617),h=t(1761),g=t(7828),u=t(534),p=t(5704);function v(){let[e,s]=(0,r.useState)(null),[t,n]=(0,r.useState)(!0),[v,y]=(0,r.useState)("7d"),[j,b]=(0,r.useState)("users"),w=async()=>{n(!0);try{let e=await fetch("".concat(p.env.NEXT_PUBLIC_API_URL,"/api/admin/analytics?range=").concat(v),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("adminToken")),"Content-Type":"application/json"}});if(e.ok){let t=await e.json();s(t.data||t)}else s({totalUsers:12543,totalListings:8921,totalRevenue:245678,totalViews:567890,userGrowth:12.5,listingGrowth:8.3,revenueGrowth:15.7,topCategories:[{name:"Electronics",count:2345,percentage:26.3},{name:"Furniture",count:1876,percentage:21},{name:"Books",count:1432,percentage:16.1},{name:"Clothing",count:1098,percentage:12.3},{name:"Sports",count:876,percentage:9.8},{name:"Musical Instruments",count:654,percentage:7.3},{name:"Other",count:640,percentage:7.2}],dailyStats:[{date:"2024-01-15",users:145,listings:89,revenue:3456,views:2890},{date:"2024-01-16",users:167,listings:94,revenue:4123,views:3245},{date:"2024-01-17",users:189,listings:102,revenue:3890,views:3567},{date:"2024-01-18",users:201,listings:115,revenue:4567,views:3890},{date:"2024-01-19",users:234,listings:128,revenue:5234,views:4123},{date:"2024-01-20",users:256,listings:142,revenue:5890,views:4567},{date:"2024-01-21",users:278,listings:158,revenue:6234,views:4890}],userActivity:[{period:"Morning (6-12)",activeUsers:3456,newUsers:234,returningUsers:3222},{period:"Afternoon (12-18)",activeUsers:5678,newUsers:456,returningUsers:5222},{period:"Evening (18-24)",activeUsers:4321,newUsers:321,returningUsers:4e3},{period:"Night (0-6)",activeUsers:1234,newUsers:89,returningUsers:1145}],popularListings:[{id:"1",title:'MacBook Pro 16" M3 Max',views:1234,favorites:89,category:"Electronics"},{id:"2",title:"Professional Camera Kit",views:987,favorites:76,category:"Electronics"},{id:"3",title:"Designer Sectional Sofa",views:876,favorites:65,category:"Furniture"},{id:"4",title:"Vintage Gibson Guitar",views:765,favorites:54,category:"Musical Instruments"},{id:"5",title:"Gaming Setup Complete",views:654,favorites:43,category:"Electronics"}]})}catch(e){console.error("Error fetching analytics:",e),s({totalUsers:12543,totalListings:8921,totalRevenue:245678,totalViews:567890,userGrowth:12.5,listingGrowth:8.3,revenueGrowth:15.7,topCategories:[{name:"Electronics",count:2345,percentage:26.3},{name:"Furniture",count:1876,percentage:21}],dailyStats:[],userActivity:[],popularListings:[]})}finally{n(!1)}};return((0,r.useEffect)(()=>{w()},[v]),t)?(0,a.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-gray-950 via-gray-900 to-gray-950 flex items-center justify-center",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-400"}),(0,a.jsx)("span",{className:"text-gray-400",children:"Loading analytics..."})]})}):e?(0,a.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-gray-950 via-gray-900 to-gray-950 p-6",children:(0,a.jsxs)(i.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"max-w-7xl mx-auto",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl font-bold bg-gradient-to-r from-blue-400 to-purple-400 bg-clip-text text-transparent",children:"Analytics Dashboard"}),(0,a.jsx)("p",{className:"text-gray-400 mt-2",children:"Platform insights and performance metrics"})]}),(0,a.jsxs)("div",{className:"flex gap-3",children:[(0,a.jsxs)("select",{value:v,onChange:e=>y(e.target.value),className:"px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,a.jsx)("option",{value:"1d",children:"Last 24 Hours"}),(0,a.jsx)("option",{value:"7d",children:"Last 7 Days"}),(0,a.jsx)("option",{value:"30d",children:"Last 30 Days"}),(0,a.jsx)("option",{value:"90d",children:"Last 3 Months"}),(0,a.jsx)("option",{value:"1y",children:"Last Year"})]}),(0,a.jsxs)("button",{onClick:w,className:"px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white hover:bg-gray-700 flex items-center gap-2",children:[(0,a.jsx)(l.A,{className:"w-4 h-4"}),"Refresh"]}),(0,a.jsxs)("button",{onClick:()=>{if(!e)return;let s=e.dailyStats.map(e=>({Date:e.date,Users:e.users,Listings:e.listings,Revenue:e.revenue,Views:e.views})),t=new Blob([[Object.keys(s[0]).join(","),...s.map(e=>Object.values(e).join(","))].join("\n")],{type:"text/csv"}),a=window.URL.createObjectURL(t),r=document.createElement("a");r.href=a,r.download="brrow-analytics-".concat(v,".csv"),r.click()},className:"px-4 py-2 bg-gradient-to-r from-blue-500 to-purple-600 text-white rounded-lg hover:from-blue-600 hover:to-purple-700 flex items-center gap-2",children:[(0,a.jsx)(c,{className:"w-4 h-4"}),"Export"]})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[(0,a.jsx)("div",{className:"bg-gray-900/50 backdrop-blur-sm border border-gray-800 rounded-xl p-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-gray-400",children:"Total Users"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-white",children:e.totalUsers.toLocaleString()}),(0,a.jsxs)("div",{className:"flex items-center gap-1 mt-2",children:[e.userGrowth>=0?(0,a.jsx)(d.A,{className:"w-4 h-4 text-green-400"}):(0,a.jsx)(o,{className:"w-4 h-4 text-red-400"}),(0,a.jsxs)("span",{className:"text-sm ".concat(e.userGrowth>=0?"text-green-400":"text-red-400"),children:[Math.abs(e.userGrowth),"%"]})]})]}),(0,a.jsx)(x.A,{className:"w-8 h-8 text-blue-400"})]})}),(0,a.jsx)("div",{className:"bg-gray-900/50 backdrop-blur-sm border border-gray-800 rounded-xl p-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-gray-400",children:"Total Listings"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-white",children:e.totalListings.toLocaleString()}),(0,a.jsxs)("div",{className:"flex items-center gap-1 mt-2",children:[e.listingGrowth>=0?(0,a.jsx)(d.A,{className:"w-4 h-4 text-green-400"}):(0,a.jsx)(o,{className:"w-4 h-4 text-red-400"}),(0,a.jsxs)("span",{className:"text-sm ".concat(e.listingGrowth>=0?"text-green-400":"text-red-400"),children:[Math.abs(e.listingGrowth),"%"]})]})]}),(0,a.jsx)(m.A,{className:"w-8 h-8 text-green-400"})]})}),(0,a.jsx)("div",{className:"bg-gray-900/50 backdrop-blur-sm border border-gray-800 rounded-xl p-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-gray-400",children:"Total Revenue"}),(0,a.jsxs)("p",{className:"text-2xl font-bold text-white",children:["$",e.totalRevenue.toLocaleString()]}),(0,a.jsxs)("div",{className:"flex items-center gap-1 mt-2",children:[e.revenueGrowth>=0?(0,a.jsx)(d.A,{className:"w-4 h-4 text-green-400"}):(0,a.jsx)(o,{className:"w-4 h-4 text-red-400"}),(0,a.jsxs)("span",{className:"text-sm ".concat(e.revenueGrowth>=0?"text-green-400":"text-red-400"),children:[Math.abs(e.revenueGrowth),"%"]})]})]}),(0,a.jsx)(h.A,{className:"w-8 h-8 text-yellow-400"})]})}),(0,a.jsx)("div",{className:"bg-gray-900/50 backdrop-blur-sm border border-gray-800 rounded-xl p-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-gray-400",children:"Total Views"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-white",children:e.totalViews.toLocaleString()}),(0,a.jsxs)("div",{className:"flex items-center gap-1 mt-2",children:[(0,a.jsx)(g.A,{className:"w-4 h-4 text-purple-400"}),(0,a.jsx)("span",{className:"text-sm text-purple-400",children:"Page views"})]})]}),(0,a.jsx)(u.A,{className:"w-8 h-8 text-purple-400"})]})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[(0,a.jsxs)("div",{className:"bg-gray-900/50 backdrop-blur-sm border border-gray-800 rounded-xl p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-white",children:"Daily Performance"}),(0,a.jsxs)("select",{value:j,onChange:e=>b(e.target.value),className:"px-3 py-1 bg-gray-800 border border-gray-700 rounded text-white text-sm",children:[(0,a.jsx)("option",{value:"users",children:"Users"}),(0,a.jsx)("option",{value:"listings",children:"Listings"}),(0,a.jsx)("option",{value:"revenue",children:"Revenue"}),(0,a.jsx)("option",{value:"views",children:"Views"})]})]}),(0,a.jsx)("div",{className:"h-64 flex items-end justify-between gap-2",children:e.dailyStats.map((s,t)=>{let r=s[j],i=Math.max(...e.dailyStats.map(e=>e[j]));return(0,a.jsxs)("div",{className:"flex-1 flex flex-col items-center",children:[(0,a.jsx)("div",{className:"w-full bg-gradient-to-t from-blue-500 to-purple-500 rounded-t",style:{height:"".concat(r/i*100,"%"),minHeight:"4px"}}),(0,a.jsx)("div",{className:"text-xs text-gray-400 mt-2 text-center",children:new Date(s.date).toLocaleDateString("en-US",{month:"short",day:"numeric"})})]},t)})})]}),(0,a.jsxs)("div",{className:"bg-gray-900/50 backdrop-blur-sm border border-gray-800 rounded-xl p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-white mb-6",children:"Top Categories"}),(0,a.jsx)("div",{className:"space-y-4",children:e.topCategories.map((e,s)=>(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"w-3 h-3 rounded-full bg-gradient-to-r from-blue-500 to-purple-500"}),(0,a.jsx)("span",{className:"text-white",children:e.name})]}),(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"w-24 bg-gray-700 rounded-full h-2",children:(0,a.jsx)("div",{className:"h-2 bg-gradient-to-r from-blue-500 to-purple-500 rounded-full",style:{width:"".concat(e.percentage,"%")}})}),(0,a.jsxs)("span",{className:"text-sm text-gray-400 w-12 text-right",children:[e.percentage,"%"]})]})]},s))})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{className:"bg-gray-900/50 backdrop-blur-sm border border-gray-800 rounded-xl p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-white mb-6",children:"User Activity by Time"}),(0,a.jsx)("div",{className:"space-y-4",children:e.userActivity.map((e,s)=>(0,a.jsxs)("div",{className:"p-4 bg-gray-800/30 rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsx)("span",{className:"text-white font-medium",children:e.period}),(0,a.jsxs)("span",{className:"text-blue-400",children:[e.activeUsers," active"]})]}),(0,a.jsxs)("div",{className:"flex gap-4 text-sm text-gray-400",children:[(0,a.jsxs)("span",{children:["New: ",e.newUsers]}),(0,a.jsxs)("span",{children:["Returning: ",e.returningUsers]})]})]},s))})]}),(0,a.jsxs)("div",{className:"bg-gray-900/50 backdrop-blur-sm border border-gray-800 rounded-xl p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-white mb-6",children:"Popular Listings"}),(0,a.jsx)("div",{className:"space-y-4",children:e.popularListings.map((e,s)=>(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-800/30 rounded-lg",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-white font-medium",children:e.title}),(0,a.jsx)("div",{className:"text-sm text-gray-400",children:e.category})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-400",children:[(0,a.jsx)(g.A,{className:"w-3 h-3"}),e.views]}),(0,a.jsxs)("div",{className:"text-xs text-gray-500",children:[e.favorites," favorites"]})]})]},s))})]})]})]})}):(0,a.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-gray-950 via-gray-900 to-gray-950 flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("h2",{className:"text-xl text-white mb-2",children:"No Analytics Data"}),(0,a.jsx)("p",{className:"text-gray-400",children:"Unable to load analytics data"})]})})}},6617:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(1847).A)("package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]])},7828:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(1847).A)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},8104:(e,s,t)=>{Promise.resolve().then(t.bind(t,2107))},9559:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(1847).A)("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]])}},e=>{e.O(0,[559,441,255,358],()=>e(e.s=8104)),_N_E=e.O()}]);